<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>hottest place rn</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #ffcc00; /* Adjusted to a consistent yellow background */
      color: black; /* Better contrast */
      font-size: 24px;
      text-transform: lowercase;
    }

    .container {
      text-align: center;
    }

    .edit-icon {
      width: 25px;
      cursor: pointer;
      display: block;
      margin: 0 auto 20px;
    }

    .place, .temperature, #selectedRegion {
      display: block;
      margin: 5px 0;
    }

    #selectedRegion {
      font-size: 0.75em;
      color: #666; /* Lighter text for less emphasis */
    }

    /* Modal styling for region selection */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background-color: #1e1e1e;
      padding: 20px;
      border-radius: 10px;
      width: 80%;
      max-width: 400px;
      text-align: center;
    }

    select, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: none;
      background-color: #333;
      color: white;
      cursor: pointer;
      font-size: 1rem;
    }

    button:hover {
      background-color: #444;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="https://github.com/oggahogga/hottestplacern.lol/blob/fe0e4da78efd658925cdad7b0146843479b71356/image-removebg-preview%20(3).png?raw=true" alt="edit" class="edit-icon" id="editIcon">
    <span class="place" id="hottestPlaceDisplay">loading place...</span>
    <span class="temperature" id="temperatureDisplay">loading temperature...</span>
    <span id="selectedRegion">hottest place rn north america</span>
  </div>

  <!-- Modal for region selection -->
  <div class="modal" id="regionModal">
    <div class="modal-content">
      <div class="modal-header">select a region</div>
      <select id="regionDropdown">
        <option value="global">global</option>
        <option value="middle-east">middle east</option>
        <option value="north-america">north america</option>
        <option value="africa">africa</option>
        <option value="asia">asia</option>
        <option value="europe">europe</option>
        <option value="south-america">south america</option>
        <option value="australia">australia</option>
      </select>
      <button id="cancelRegion">cancel</button>
      <button id="confirmRegion">confirm</button>
    </div>
  </div>

  <script>
    const API_KEY = '639a9d9405836e20490358fb8d985a2a'; // Insert your OpenWeatherMap API key here
    const API_URL = 'https://api.openweathermap.org/data/2.5/weather?';
    const regions = {
      'global': ['death valley', 'kuwait city', 'sahara desert', 'baghdad', 'dubai', 'phoenix', 'delhi', 'riyadh', 'las vegas'],
      'middle-east': ['kuwait city', 'baghdad', 'dubai', 'riyadh', 'doha', 'muscat', 'abu dhabi', 'amman'],
      'north-america': ['phoenix', 'las vegas', 'death valley', 'dallas', 'houston', 'los angeles', 'mexico city', 'new orleans'],
      'africa': ['sahara desert', 'cairo', 'nairobi', 'lagos', 'khartoum', 'addis ababa', 'cape town', 'algiers'],
      'asia': ['delhi', 'bangkok', 'jakarta', 'manila', 'karachi', 'mumbai', 'tokyo', 'singapore'],
      'europe': ['athens', 'rome', 'madrid', 'paris', 'lisbon', 'seville', 'istanbul', 'milan'],
      'south-america': ['buenos aires', 'rio de janeiro', 'lima', 'santiago', 'bogota', 'caracas', 'sao paulo'],
      'australia': ['sydney', 'melbourne', 'perth', 'adelaide', 'brisbane', 'darwin', 'alice springs']
    };
    let isCelsius = true;
    let selectedRegion = 'global'; // Default region

    async function fetchWeatherData(city) {
      const units = isCelsius ? "metric" : "imperial";
      const response = await fetch(`${API_URL}q=${city}&appid=${API_KEY}&units=${units}`);
      if (!response.ok) throw new Error('Failed to fetch weather data');
      return await response.json();
    }

    async function fetchHottestPlace() {
      const cities = regions[selectedRegion];
      let hottest = { city: '', temp: -Infinity };
      for (const city of cities) {
        try {
          const data = await fetchWeatherData(city);
          if (data.main.temp > hottest.temp) {
            hottest = {
              city: data.name,
              temp: data.main.temp,
            };
          }
        } catch (error) {
          console.error(error);
        }
      }
      updateDisplay(hottest);
    }

    function updateDisplay(hottest) {
      const temperature = `${hottest.temp.toFixed(1)}Â°${isCelsius ? 'c' : 'f'}`;
      document.getElementById('hottestPlaceDisplay').textContent = hottest.city;
      document.getElementById('temperatureDisplay').textContent = `temperature: ${temperature}`;
    }

    const editIcon = document.getElementById('editIcon');
    const regionModal = document.getElementById('regionModal');
    editIcon.addEventListener('click', () => {
      regionModal.classList.add('active');
    });

    const cancelRegion = document.getElementById('cancelRegion');
    cancelRegion.addEventListener('click', () => {
      regionModal.classList.remove('active');
    });

    const confirmRegion = document.getElementById('confirmRegion');
    confirmRegion.addEventListener('click', () => {
      const selectedOption = document.getElementById('regionDropdown').value;
      selectedRegion = selectedOption;
      document.getElementById('selectedRegion').textContent = 'hottest place rn ' + selectedOption.replace('-', ' ').toLowerCase();
      regionModal.classList.remove('active');
      fetchHottestPlace();
    });

    fetchHottestPlace();
  </script>
</body>
</html>
